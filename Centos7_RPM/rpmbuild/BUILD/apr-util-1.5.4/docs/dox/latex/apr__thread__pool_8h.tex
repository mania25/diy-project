\hypertarget{apr__thread__pool_8h}{\section{include/apr\-\_\-thread\-\_\-pool.h File Reference}
\label{apr__thread__pool_8h}\index{include/apr\-\_\-thread\-\_\-pool.\-h@{include/apr\-\_\-thread\-\_\-pool.\-h}}
}


A\-P\-R Thread Pool Library.  


{\ttfamily \#include \char`\"{}apu.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}apr\-\_\-thread\-\_\-proc.\-h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{group___a_p_r___util___t_p_ga312691aaa41f45820e13c2566a4c6780}{\#define {\bfseries A\-P\-R\-\_\-\-T\-H\-R\-E\-A\-D\-\_\-\-T\-A\-S\-K\-\_\-\-P\-R\-I\-O\-R\-I\-T\-Y\-\_\-\-L\-O\-W\-E\-S\-T}~0}\label{group___a_p_r___util___t_p_ga312691aaa41f45820e13c2566a4c6780}

\item 
\hypertarget{group___a_p_r___util___t_p_ga19879c994e9a71e9954e580a179b62c1}{\#define {\bfseries A\-P\-R\-\_\-\-T\-H\-R\-E\-A\-D\-\_\-\-T\-A\-S\-K\-\_\-\-P\-R\-I\-O\-R\-I\-T\-Y\-\_\-\-L\-O\-W}~63}\label{group___a_p_r___util___t_p_ga19879c994e9a71e9954e580a179b62c1}

\item 
\hypertarget{group___a_p_r___util___t_p_ga84d2ac8fa8a538661715b0d2e2736cb1}{\#define {\bfseries A\-P\-R\-\_\-\-T\-H\-R\-E\-A\-D\-\_\-\-T\-A\-S\-K\-\_\-\-P\-R\-I\-O\-R\-I\-T\-Y\-\_\-\-N\-O\-R\-M\-A\-L}~127}\label{group___a_p_r___util___t_p_ga84d2ac8fa8a538661715b0d2e2736cb1}

\item 
\hypertarget{group___a_p_r___util___t_p_ga289d5e1346b5807b43db9ea7d4ea5c17}{\#define {\bfseries A\-P\-R\-\_\-\-T\-H\-R\-E\-A\-D\-\_\-\-T\-A\-S\-K\-\_\-\-P\-R\-I\-O\-R\-I\-T\-Y\-\_\-\-H\-I\-G\-H}~191}\label{group___a_p_r___util___t_p_ga289d5e1346b5807b43db9ea7d4ea5c17}

\item 
\hypertarget{group___a_p_r___util___t_p_ga5fa01e4e210270d119382a80aae13d1d}{\#define {\bfseries A\-P\-R\-\_\-\-T\-H\-R\-E\-A\-D\-\_\-\-T\-A\-S\-K\-\_\-\-P\-R\-I\-O\-R\-I\-T\-Y\-\_\-\-H\-I\-G\-H\-E\-S\-T}~255}\label{group___a_p_r___util___t_p_ga5fa01e4e210270d119382a80aae13d1d}

\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct apr\-\_\-thread\-\_\-pool \hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
apr\-\_\-status\-\_\-t \hyperlink{group___a_p_r___util___t_p_ga9c4351f2f93d223c159c1f8e5481830e}{apr\-\_\-thread\-\_\-pool\-\_\-create} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$$\ast$me, apr\-\_\-size\-\_\-t init\-\_\-threads, apr\-\_\-size\-\_\-t max\-\_\-threads, apr\-\_\-pool\-\_\-t $\ast$pool)
\item 
apr\-\_\-status\-\_\-t \hyperlink{group___a_p_r___util___t_p_gab06b4fdfc684c88781abf201d53a44eb}{apr\-\_\-thread\-\_\-pool\-\_\-destroy} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-status\-\_\-t \hyperlink{group___a_p_r___util___t_p_gad66fb92679a8f456ff8e8ea1629eb041}{apr\-\_\-thread\-\_\-pool\-\_\-push} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me, apr\-\_\-thread\-\_\-start\-\_\-t func, void $\ast$param, apr\-\_\-byte\-\_\-t priority, void $\ast$owner)
\item 
apr\-\_\-status\-\_\-t \hyperlink{group___a_p_r___util___t_p_gaa79df50c650442b8d39e169f4e422d3b}{apr\-\_\-thread\-\_\-pool\-\_\-schedule} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me, apr\-\_\-thread\-\_\-start\-\_\-t func, void $\ast$param, apr\-\_\-interval\-\_\-time\-\_\-t time, void $\ast$owner)
\item 
apr\-\_\-status\-\_\-t \hyperlink{group___a_p_r___util___t_p_ga9acb6218820184f0617eecf56f0d3d84}{apr\-\_\-thread\-\_\-pool\-\_\-top} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me, apr\-\_\-thread\-\_\-start\-\_\-t func, void $\ast$param, apr\-\_\-byte\-\_\-t priority, void $\ast$owner)
\item 
apr\-\_\-status\-\_\-t \hyperlink{group___a_p_r___util___t_p_gaee3d7332cf2591f42472e8be0bcbff87}{apr\-\_\-thread\-\_\-pool\-\_\-tasks\-\_\-cancel} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me, void $\ast$owner)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_ga4f628cbec0365bb39be715a3c7ff0ec3}{apr\-\_\-thread\-\_\-pool\-\_\-tasks\-\_\-count} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_gac0324b95f6b61dbfb184cbe84c541b42}{apr\-\_\-thread\-\_\-pool\-\_\-scheduled\-\_\-tasks\-\_\-count} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_ga9a2642a5a61df9560da438e818d5fad3}{apr\-\_\-thread\-\_\-pool\-\_\-threads\-\_\-count} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_gaf839cda931928964f450e3a17d153b24}{apr\-\_\-thread\-\_\-pool\-\_\-busy\-\_\-count} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_gae6c5b87d1fee7150f74baa1008cb00c0}{apr\-\_\-thread\-\_\-pool\-\_\-idle\-\_\-count} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_ga07c5e4dca589ff024e9adfc8f818c481}{apr\-\_\-thread\-\_\-pool\-\_\-idle\-\_\-max\-\_\-set} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me, apr\-\_\-size\-\_\-t cnt)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_gaab5c9c8afc46793ea5c413edfc9ef46e}{apr\-\_\-thread\-\_\-pool\-\_\-tasks\-\_\-run\-\_\-count} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_ga5eda07fb7fac1b4c4165137f34c5c31c}{apr\-\_\-thread\-\_\-pool\-\_\-tasks\-\_\-high\-\_\-count} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_gab6dcdaa6129caf35fa370e694a67ff08}{apr\-\_\-thread\-\_\-pool\-\_\-threads\-\_\-high\-\_\-count} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_gafcf0a761a77b2a27fc043d650606c122}{apr\-\_\-thread\-\_\-pool\-\_\-threads\-\_\-idle\-\_\-timeout\-\_\-count} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_ga6dd7fdcaac5cb2848aecd2ee1426d41e}{apr\-\_\-thread\-\_\-pool\-\_\-idle\-\_\-max\-\_\-get} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_gaa352b6337b31ebab796b604240a907e9}{apr\-\_\-thread\-\_\-pool\-\_\-thread\-\_\-max\-\_\-set} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me, apr\-\_\-size\-\_\-t cnt)
\item 
apr\-\_\-interval\-\_\-time\-\_\-t \hyperlink{group___a_p_r___util___t_p_ga382b90c482d39184b2a80157f64166ec}{apr\-\_\-thread\-\_\-pool\-\_\-idle\-\_\-wait\-\_\-set} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me, apr\-\_\-interval\-\_\-time\-\_\-t timeout)
\item 
apr\-\_\-interval\-\_\-time\-\_\-t \hyperlink{group___a_p_r___util___t_p_ga6ef255c2d556fa757e9b78c2745c9bac}{apr\-\_\-thread\-\_\-pool\-\_\-idle\-\_\-wait\-\_\-get} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_gaca755ea05976c5e1b782dcf40a1ef443}{apr\-\_\-thread\-\_\-pool\-\_\-thread\-\_\-max\-\_\-get} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_ga1c35f1bd809dde4300f4a3f77026f446}{apr\-\_\-thread\-\_\-pool\-\_\-threshold\-\_\-set} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me, apr\-\_\-size\-\_\-t val)
\item 
apr\-\_\-size\-\_\-t \hyperlink{group___a_p_r___util___t_p_ga38f4ad8e384cde0e9d32867031c7a935}{apr\-\_\-thread\-\_\-pool\-\_\-threshold\-\_\-get} (\hyperlink{group___a_p_r___util___t_p_gab31b68a03a0d5eec3e1879c253d3b620}{apr\-\_\-thread\-\_\-pool\-\_\-t} $\ast$me)
\item 
apr\-\_\-status\-\_\-t \hyperlink{group___a_p_r___util___t_p_gaefbaa0f765567e8e5a79adaaf346755f}{apr\-\_\-thread\-\_\-pool\-\_\-task\-\_\-owner\-\_\-get} (apr\-\_\-thread\-\_\-t $\ast$thd, void $\ast$$\ast$owner)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A\-P\-R Thread Pool Library. \begin{DoxyRemark}{Remarks}
This library implements a thread pool using apr\-\_\-thread\-\_\-t. A thread pool is a set of threads that can be created in advance or on demand until a maximum number. When a task is scheduled, the thread pool will find an idle thread to handle the task. In case all existing threads are busy and the number of tasks in the queue is higher than the adjustable threshold, the pool will try to create a new thread to serve the task if the maximum number has not been reached. Otherwise, the task will be put into a queue based on priority, which can be valued from 0 to 255, with higher values being served first. If there are tasks with the same priority, the new task might be put at the top or at the bottom -\/ it depends on which function is used to put the task.

There may be the case where the thread pool can use up to the maximum number of threads at peak load, but having those threads idle afterwards. A maximum number of idle threads can be set so that the extra idling threads will be terminated to save system resources. 
\end{DoxyRemark}
